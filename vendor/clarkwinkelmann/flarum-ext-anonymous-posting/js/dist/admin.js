(()=>{var t={n:n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},d:(n,e)=>{for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};(()=>{"use strict";t.r(n);const e=flarum.core.compat["admin/app"];var a=t.n(e);const o=flarum.core.compat["common/components/Button"];var r=t.n(o),s="anonymous-posting.formulaireAvatars",i="clarkwinkelmann-anonymous-posting.admin.settings.";a().initializers.add("anonymous-posting",(function(){a().extensionData.for("clarkwinkelmann-anonymous-posting").registerSetting({setting:"anonymous-posting.defaultAnonymity",label:a().translator.trans(i+"defaultAnonymity"),type:"switch"}).registerSetting({setting:"anonymous-posting.defaultAnonymityWhenAbleToSwitch",type:"switch",label:a().translator.trans(i+"defaultAnonymityWhenAbleToSwitch")}).registerSetting({setting:"anonymous-posting.alwaysAnonymiseEdits",type:"switch",label:a().translator.trans(i+"alwaysAnonymiseEdits"),help:a().translator.trans(i+"alwaysAnonymiseEditsHelp")}).registerSetting({setting:"anonymous-posting.composerHelpTextPosition",type:"select",options:{visible:a().translator.trans(i+"composerHelpTextPositionVisible"),tooltip:a().translator.trans(i+"composerHelpTextPositionTooltip"),hidden:a().translator.trans(i+"composerHelpTextPositionHidden")},default:"visible",label:a().translator.trans(i+"composerHelpTextPosition"),help:a().translator.trans(i+"composerHelpTextPositionHelp")}).registerSetting((function(){var t,n=this;try{t=JSON.parse(this.setting(s)())}catch(t){}return Array.isArray(t)||(t=[]),m(".Form-group",[m("label",a().translator.trans(i+"avatars")),m(".helpText",a().translator.trans(i+"avatarsHelp",{a:m("a",{href:"https://kilowhat.net/flarum/extensions/formulaire",target:"_blank",rel:"noopener"})})),m("table",[m("thead",m("tr",[m("th",a().translator.trans(i+"avatarFormId")),m("th",a().translator.trans(i+"avatarFieldKey")),m("th",a().translator.trans(i+"avatarFieldValue")),m("th",a().translator.trans(i+"avatarAvatarUrl")),m("th")])),m("tbody",[t.map((function(e,a){return m("tr",[m("td",m("input.FormControl",{type:"text",value:e.formId||"",onchange:function(a){e.formId=a.target.value,n.setting(s)(JSON.stringify(t))}})),m("td",m("input.FormControl",{type:"text",value:e.fieldKey||"",onchange:function(a){e.fieldKey=a.target.value,n.setting(s)(JSON.stringify(t))}})),m("td",m("input.FormControl",{type:"text",value:e.fieldValue||"",onchange:function(a){e.fieldValue=a.target.value,n.setting(s)(JSON.stringify(t))}})),m("td",m("input.FormControl",{type:"text",value:e.avatarUrl||"",onchange:function(a){e.avatarUrl=a.target.value,n.setting(s)(JSON.stringify(t))}})),m("td",r().component({className:"Button Button--icon",icon:"fas fa-times",onclick:function(){t.splice(a,1),n.setting(s)(t.length>0?JSON.stringify(t):null)}}))])})),m("tr",m("td",{colspan:5},r().component({className:"Button Button--block",onclick:function(){t.push({formId:"",fieldKey:"",fieldValue:"",avatarUrl:""}),n.setting(s)(JSON.stringify(t))}},a().translator.trans(i+"avatarAdd"))))])])])})).registerPermission({permission:"anonymous-posting.use",icon:"fas fa-user-secret",label:a().translator.trans("clarkwinkelmann-anonymous-posting.admin.permissions.use")},"start").registerPermission({permission:"anonymous-posting.reveal",icon:"fas fa-user-secret",label:a().translator.trans("clarkwinkelmann-anonymous-posting.admin.permissions.reveal")},"moderate").registerPermission({permission:"anonymous-posting.moderate",icon:"fas fa-user-secret",label:a().translator.trans("clarkwinkelmann-anonymous-posting.admin.permissions.moderate")},"moderate")}))})(),module.exports=n})();
//# sourceMappingURL=admin.js.map